
# App name & logging
spring.application.name=demo
logging.level.org.springframework=INFO
logging.level.com.mika.demo=DEBUG


# -------------------------------
# DATABASE CONFIGURATION
# -------------------------------

# H2 (default, in-memory, good for dev/demo)
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.defer-datasource-initialization=true
spring.h2.console.enabled=true  # Enable H2 web console

# -------------------------------
# PostgreSQL for production (Render/Cloud)
# -------------------------------
# Uncomment and set Render DB environment variables
# spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/demo}
# spring.datasource.username=${DB_USERNAME:postgres}
# spring.datasource.password=${DB_PASSWORD:password}
# spring.jpa.hibernate.ddl-auto=update

# -------------------------------
# MVC & JSP CONFIG
# -------------------------------
spring.mvc.view.prefix=/WEB-INF/jsp/
spring.mvc.view.suffix=.jsp
spring.mvc.format.date=yyyy-MM-dd
server.servlet.context-path=/

# -------------------------------
# SERVER PORT (Render sets PORT env automatically)
# -------------------------------
server.port=${PORT:8080}

# -------------------------------
# SESSION/SECURITY FIX (MANDATORY FOR RENDER/HTTPS)
# -------------------------------
# Tells the browser that the session cookie must only be sent over HTTPS (secure=true)
# and prevents client-side script access (httponly=true).
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.httponly=true

